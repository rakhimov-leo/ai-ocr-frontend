<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <title>AI-OCR ì‹œìŠ¤í…œ</title>
    <!-- Favicon: OCR icon â€“ oq fon, qizil yozuv -->
    <link rel="icon" type="image/svg+xml" href="assets/ocr-icon.svg">
    <link rel="apple-touch-icon" href="assets/ocr-icon.svg">
    <link rel="stylesheet" href="styles.css?v=6">
    <link rel="stylesheet" href="admin-styles.css">
    <link rel="stylesheet" href="dark-mode.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="">
    <script>
        (function(){ try { if (localStorage.getItem('darkMode') === 'true') document.documentElement.classList.add('dark-mode'); } catch(e) {} })();
    </script>
</head>
<body>
    <!-- Welcome overlay â€“ ochilganda markazda, 5 sekunddan keyin yo'qoladi -->
    <div id="welcomeOverlay" class="welcome-overlay" aria-hidden="false">
        <span class="welcome-overlay-text">Welcome to AI-OCR</span>
    </div>
    <!-- Login Screen -->
    <div id="loginScreen" class="screen">
        <div class="login-container">
                <div class="login-card">
                <h1>AI-OCR ì‹œìŠ¤í…œ</h1>
                <p class="subtitle">ë¡œê·¸ì¸</p>
                
                <div id="loginFormContainer">
                    <form id="loginForm">
                    <div class="form-group">
                        <label>ì‚¬ìš©ìëª…</label>
                        <input type="text" id="username" placeholder="admin ë˜ëŠ” user" required>
                    </div>
                    
                    <div class="form-group">
                        <label>ë¹„ë°€ë²ˆí˜¸</label>
                        <input type="password" id="password" placeholder="ë¹„ë°€ë²ˆí˜¸" required>
                    </div>
                    
                    <div id="loginError" class="error" style="display: none;"></div>
                    
                    <button type="submit" class="btn-primary">ë¡œê·¸ì¸</button>
                </form>
                
                <div class="login-hint">
                    <p><strong>í…ŒìŠ¤íŠ¸ ê³„ì •:</strong></p>
                    <p>ê´€ë¦¬ì: admin / admin123</p>
                    <p>ì‚¬ìš©ì: user / user123</p>
                </div>
                
                <div class="login-switch">
                    <p><span id="needAccountText">ìƒˆ ê³„ì •ì´ í•„ìš”í•˜ì‹ ê°€ìš”?</span> <a href="#" id="showSignup">íšŒì›ê°€ì…</a></p>
                </div>
                <div class="login-switch" style="margin-top: 12px;">
                    <p><a href="#" id="browseWithoutLogin">ë¡œê·¸ì¸ ì—†ì´ ë‘˜ëŸ¬ë³´ê¸°</a></p>
                </div>
                </div>
                
                <div id="signupFormContainer" style="display: none;">
                    <form id="signupForm">
                        <div class="form-group">
                            <label>ì‚¬ìš©ìëª…</label>
                            <input type="text" id="signupUsername" placeholder="ì‚¬ìš©ìëª…" required>
                        </div>
                        
                        <div class="form-group">
                            <label>ì´ë©”ì¼ (ì„ íƒì‚¬í•­)</label>
                            <input type="email" id="signupEmail" placeholder="email@example.com">
                        </div>
                        
                        <div class="form-group">
                            <label>ë¹„ë°€ë²ˆí˜¸</label>
                            <input type="password" id="signupPassword" placeholder="ìµœì†Œ 6ì ì´ìƒ" required minlength="6">
                        </div>
                        
                        <div class="form-group">
                            <label>ë¹„ë°€ë²ˆí˜¸ í™•ì¸</label>
                            <input type="password" id="signupPasswordConfirm" placeholder="ë¹„ë°€ë²ˆí˜¸ë¥¼ ë‹¤ì‹œ ì…ë ¥í•˜ì„¸ìš”" required minlength="6">
                        </div>
                        
                        <div id="signupError" class="error" style="display: none;"></div>
                        
                        <button type="submit" class="btn-primary">íšŒì›ê°€ì…</button>
                    </form>
                    
                    <div class="login-switch">
                        <p><span id="haveAccountText">ì´ë¯¸ ê³„ì •ì´ ìˆìœ¼ì‹ ê°€ìš”?</span> <a href="#" id="showLogin">ë¡œê·¸ì¸</a></p>
                    </div>
                    <div class="login-switch" style="margin-top: 12px;">
                        <p><a href="#" id="browseWithoutLoginSignup">ë¡œê·¸ì¸ ì—†ì´ ë‘˜ëŸ¬ë³´ê¸°</a></p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Main App -->
    <div id="appScreen" class="screen active">
        <!-- Top Navigation Bar (Modern LocoHub Style) -->
        <header class="top-nav-modern">
            <div class="nav-container">
                <!-- PC versiyada: Barcha elementlar 1 qatorda -->
                <!-- Mobile versiyada: 2 qatorga bo'linadi -->
                <div class="nav-left">
                    <div class="logo-modern" id="logoHomeLink" role="button" title="Bosh sahifa">
                        <div class="logo-icon-triangle">â–²</div>
                        <span class="logo-text-modern">AI-OCR</span>
                    </div>
                </div>
                <!-- PC versiyada: Navigation links birinchi qatorda ko'rinadi -->
                <!-- Mobile versiyada: Navigation links yashiriladi -->
                <nav class="nav-links-modern nav-links-pc" id="navLinks">
                    <a href="#" data-page="dashboard" class="nav-link-modern">Home</a>
                    <a href="#" data-page="documents" class="nav-link-modern">Documents</a>
                    <a href="#" data-page="upload" class="nav-link-modern">Upload</a>
                    <a href="#" data-page="admin" class="nav-link-modern" id="adminNavLink">My Page</a>
                    <a href="#" data-page="adminPanel" class="nav-link-modern" id="adminPanelNavLink" style="display: none;">Admin</a>
                    <a href="#" data-page="aboutUs" class="nav-link-modern">About Us</a>
                </nav>
                <div class="nav-right-modern">
                    <!-- Language Selector -->
                    <div class="language-selector-container">
                        <select id="languageSelector" class="language-selector">
                            <option value="ko">í•œêµ­ì–´</option>
                            <option value="en">English</option>
                            <option value="uz">O'zbek</option>
                            <option value="ru">Ğ ÑƒÑÑĞºĞ¸Ğ¹</option>
                            <option value="mn">ĞœĞ¾Ğ½Ğ³Ğ¾Ğ»</option>
                            <option value="zh">ä¸­æ–‡</option>
                            <option value="vi">Tiáº¿ng Viá»‡t</option>
                            <option value="th">à¹„à¸—à¸¢</option>
                        </select>
                    </div>
                    <div class="nav-icons-modern">
                        <span class="nav-icon-modern">âŠ</span>
                        <span class="nav-icon-modern">ğŸ””</span>
                        <span class="nav-icon-modern" id="darkModeToggle" title="Dark Mode">ğŸŒ™</span>
                    </div>
                    <div class="profile-picture-modern" id="profileSection">
                        <div class="avatar-circle-modern" id="profileDropdownToggle">ğŸ‘¤</div>
                        <!-- Profile Dropdown Overlay (Mobile uchun) -->
                        <div class="profile-dropdown-overlay" id="profileDropdownOverlay"></div>
                        <!-- Profile Dropdown Menu -->
                        <div class="profile-dropdown" id="profileDropdown">
                            <!-- X Close Button (Mobile uchun) -->
                            <button class="profile-dropdown-close" id="profileDropdownClose">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <line x1="18" y1="6" x2="6" y2="18"></line>
                                    <line x1="6" y1="6" x2="18" y2="18"></line>
                                </svg>
                            </button>
                            <div class="profile-dropdown-content">
                                <button type="button" class="profile-dropdown-logout profile-dropdown-login" id="topNavLoginBtn" onclick="if(window.showLoginScreen)showLoginScreen();return false;">
                                    <span>ğŸ”‘ ë¡œê·¸ì¸</span>
                                </button>
                                <button type="button" class="profile-dropdown-logout" id="topNavLogoutBtn" style="display: none;" onclick="if(window.handleLogout)handleLogout();return false;">
                                    <span>ğŸšª ë¡œê·¸ì•„ì›ƒ</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Mobile versiyada: Navigation links 2-qatorda ko'rinadi -->
                <!-- PC versiyada: Navigation links yashiriladi -->
                <div class="nav-row-second">
                    <nav class="nav-links-modern nav-links-mobile" id="navLinksMobile">
                        <a href="#" data-page="dashboard" class="nav-link-modern">Home</a>
                        <a href="#" data-page="documents" class="nav-link-modern">Documents</a>
                        <a href="#" data-page="upload" class="nav-link-modern">Upload</a>
                        <a href="#" data-page="admin" class="nav-link-modern" id="adminNavLinkMobile">My Page</a>
                        <a href="#" data-page="adminPanel" class="nav-link-modern" id="adminPanelNavLinkMobile" style="display: none;">Admin</a>
                        <a href="#" data-page="aboutUs" class="nav-link-modern">About Us</a>
                    </nav>
                </div>
            </div>
        </header>
        
        <!-- Main Content -->
        <main class="main-content">
            <!-- Dashboard (NPS Style) -->
            <div id="dashboardPage" class="page active">
                <!-- Featured Information Section -->
                <div class="featured-section">
                    <div class="featured-content">
                        <h1 class="featured-title">2026ë…„ AI-OCR ì‹œìŠ¤í…œ, ì´ë ‡ê²Œ ë‹¬ë¼ì§‘ë‹ˆë‹¤</h1>
                        <ul class="featured-list">
                            <li class="featured-list-item">
                                <label class="checkbox-label">
                                    <input type="checkbox" class="featured-checkbox" data-feature="accuracy">
                                    <span class="checkbox-custom"></span>
                                    <span class="featured-text">(ì •í™•ë„ í–¥ìƒ) OCR ì •í™•ë„ 95% â†’ 98%</span>
                                </label>
                            </li>
                            <li class="featured-list-item">
                                <label class="checkbox-label">
                                    <input type="checkbox" class="featured-checkbox" data-feature="trust">
                                    <span class="checkbox-custom"></span>
                                    <span class="featured-text">(ì‚¬ìš©ì ì‹ ë¢° ì œê³ ) ì‹¤ì‹œê°„ ê²€ì¦ ì‹œìŠ¤í…œ ë„ì…</span>
                                </label>
                            </li>
                            <li class="featured-list-item">
                                <label class="checkbox-label">
                                    <input type="checkbox" class="featured-checkbox" data-feature="performance">
                                    <span class="checkbox-custom"></span>
                                    <span class="featured-text">(ì„±ëŠ¥ ê°•í™”) ì²˜ë¦¬ ì†ë„ 2ë°° í–¥ìƒ</span>
                                </label>
                            </li>
                        </ul>
                        <p class="featured-description">ë‹¤êµ­ì–´ ì§€ì› í™•ëŒ€, ì €ì†Œë“ì¸µ ë¬´ë£Œ ì„œë¹„ìŠ¤ ëŒ€ìƒ í™•ëŒ€ê¹Œì§€</p>
                    </div>
                    <div class="featured-video">
                        <video class="featured-video-player" autoplay muted loop playsinline preload="none"
                            poster="" src="assets/ai-ocrhomepage.webm">Your browser does not support the video tag.</video>
                    </div>
                </div>
                
                <!-- Main Content Grid -->
                <div class="dashboard-grid">
                    <!-- News & Information Box (gradient border) -->
                    <div class="news-box-gradient-wrap">
                    <div class="news-box">
                        <div class="box-header">
                            <h2>ì†Œì‹Â·ì •ë³´</h2>
                            <button class="btn-more">ë”ë³´ê¸° +</button>
                        </div>
                        <div class="box-tabs">
                            <button class="tab active">ìƒˆì†Œì‹</button>
                            <button class="tab">ë³´ë„ìë£Œ</button>
                            <button class="tab">í™ë³´ì„¼í„°</button>
                            <button class="tab">ì±„ìš©ê³µê³ </button>
                        </div>
                        <div class="news-list">
                            <div class="news-item">
                                <span class="news-date">2026-01-12</span>
                                <span class="news-title">2026ë…„ AI-OCR ì‹œìŠ¤í…œ ì—…ë°ì´íŠ¸ ì•ˆë‚´</span>
                            </div>
                            <div class="news-item">
                                <span class="news-date">2026-01-14</span>
                                <span class="news-title">ìƒˆë¡œìš´ ë¬¸ì„œ ì¸ì‹ ê¸°ëŠ¥ ì¶”ê°€</span>
                            </div>
                            <div class="news-item">
                                <span class="news-date">2025-12-29</span>
                                <span class="news-title">ë¹„ëŒ€ë©´ ì±„ë„ì„ í†µí•œ ì„œë¹„ìŠ¤ ì•ˆë‚´</span>
                            </div>
                        </div>
                    </div>
                    </div>
                    
                    <!-- Frequently Used Services (gradient border, dark mode â€“ oq emas) -->
                    <div class="services-box-gradient-wrap">
                    <div class="services-box">
                        <h2>ìì£¼ ì°¾ëŠ” ì„œë¹„ìŠ¤</h2>
                        <div class="services-grid">
                            <div class="service-item" data-service="documents">
                                <div class="service-icon">
                                    <!-- Box/Document Icon SVG -->
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="service-svg-icon">
                                        <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path>
                                        <polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline>
                                        <line x1="12" y1="22.08" x2="12" y2="12"></line>
                                    </svg>
                                </div>
                                <span>ë‚´ ë¬¸ì„œ ì•Œì•„ë³´ê¸°</span>
                            </div>
                            <div class="service-item" data-service="branch">
                                <div class="service-icon">
                                    <!-- Map Pin Icon SVG -->
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="service-svg-icon">
                                        <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
                                        <circle cx="12" cy="10" r="3"></circle>
                                    </svg>
                                </div>
                                <span>ì§€ì‚¬ì°¾ê¸°</span>
                            </div>
                            <div class="service-item" data-service="forms">
                                <div class="service-icon">
                                    <!-- Search Icon SVG -->
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="service-svg-icon">
                                        <circle cx="11" cy="11" r="8"></circle>
                                        <path d="m21 21-4.35-4.35"></path>
                                    </svg>
                                </div>
                                <span>ì„œì‹ì°¾ê¸°</span>
                            </div>
                            <div class="service-item" data-service="calculator">
                                <div class="service-icon">
                                    <!-- Calculator Icon SVG -->
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="service-svg-icon">
                                        <rect x="4" y="2" width="16" height="20" rx="2"></rect>
                                        <line x1="8" y1="6" x2="16" y2="6"></line>
                                        <line x1="8" y1="10" x2="16" y2="10"></line>
                                        <line x1="8" y1="14" x2="12" y2="14"></line>
                                        <line x1="8" y1="18" x2="12" y2="18"></line>
                                        <line x1="14" y1="14" x2="16" y2="14"></line>
                                        <line x1="14" y1="18" x2="16" y2="18"></line>
                                    </svg>
                                </div>
                                <span>ê³„ì‚°ê¸°</span>
                            </div>
                            <div class="service-item" data-service="guide">
                                <div class="service-icon">
                                    <!-- Laptop/Guide Icon SVG -->
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="service-svg-icon">
                                        <rect x="2" y="4" width="20" height="15" rx="2" ry="2"></rect>
                                        <line x1="6" y1="8" x2="6.01" y2="8"></line>
                                        <line x1="6" y1="12" x2="18" y2="12"></line>
                                        <line x1="6" y1="16" x2="18" y2="16"></line>
                                        <line x1="12" y1="8" x2="18" y2="8"></line>
                                        <path d="M2 20h20"></path>
                                    </svg>
                                </div>
                                <span>ì•Œê¸°ì‰¬ìš´ ì•ˆë‚´</span>
                            </div>
                            <div class="service-item" data-service="webfax">
                                <div class="service-icon">
                                    <!-- Folder/File Icon SVG -->
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="service-svg-icon">
                                        <path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path>
                                        <line x1="12" y1="11" x2="12" y2="17"></line>
                                        <line x1="9" y1="14" x2="15" y2="14"></line>
                                    </svg>
                                </div>
                                <span>ì›¹íŒ©ìŠ¤ ì¡°íšŒ</span>
                            </div>
                            <div class="service-item" data-service="statistics">
                                <div class="service-icon">
                                    <!-- Bar Chart/Statistics Icon SVG -->
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="service-svg-icon">
                                        <line x1="12" y1="20" x2="12" y2="10"></line>
                                        <line x1="18" y1="20" x2="18" y2="4"></line>
                                        <line x1="6" y1="20" x2="6" y2="16"></line>
                                    </svg>
                                </div>
                                <span>í†µê³„</span>
                            </div>
                            <div class="service-item" data-service="chat">
                                <div class="service-icon">
                                    <!-- Message/Chat Icon SVG -->
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="service-svg-icon">
                                        <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
                                        <line x1="9" y1="10" x2="15" y2="10"></line>
                                        <line x1="9" y1="14" x2="12" y2="14"></line>
                                    </svg>
                                </div>
                                <span>ì±„íŒ…ìƒë‹´</span>
                            </div>
                        </div>
                    </div>
                    </div>
                </div>
            </div>

            <!-- Documents -->
            <div id="documentsPage" class="page">
                <div class="page-header">
                    <h1>ë¬¸ì„œ</h1>
                    <a href="#" data-page="upload" class="btn-primary">+ ìƒˆ ë¬¸ì„œ</a>
                </div>
                
                <div class="documents-table">
                    <table>
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>íŒŒì¼ ìœ í˜•</th>
                                <th>ìƒíƒœ</th>
                                <th>ì‹ ë¢°ë„</th>
                                <th>ìƒì„±ì¼</th>
                                <th>ì‘ì—…</th>
                            </tr>
                        </thead>
                        <tbody id="documentsTableBody">
                            <tr><td colspan="6" class="loading">ë¡œë”© ì¤‘...</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Document Detail -->
            <div id="documentDetailPage" class="page">
                <button onclick="showPage('documents')" class="btn-back">â† ë’¤ë¡œ</button>
                <div id="documentDetailContent"></div>
            </div>

            <!-- Edit Passport Modal -->
            <div id="editPassportModal" class="modal-overlay" style="display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); overflow-y: auto;">
                <div class="modal-content" style="background: white; margin: 5% auto; padding: 25px; width: 60%; max-width: 800px; border-radius: 12px; box-shadow: 0 5px 20px rgba(0,0,0,0.3);">
                    <div style="display: flex; justify-content: space-between; align-items: center; border-bottom: 2px solid #f3f4f6; padding-bottom: 15px; margin-bottom: 20px;">
                        <h2 style="color: #1f2937; margin: 0;">Passport Ma'lumotlarini Tahrirlash</h2>
                        <button onclick="closeEditPassportModal()" style="background: none; border: none; font-size: 28px; cursor: pointer; color: #6b7280; padding: 0; width: 30px; height: 30px; display: flex; align-items: center; justify-content: center;">&times;</button>
                    </div>

                    <div id="editFieldsContainer" class="passport-card" style="margin-top: 20px; display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                        <div class="field-group">
                            <label style="display: block; font-weight: 600; margin-bottom: 5px; color: #374151;">Familiya (Surname):</label>
                            <input type="text" id="edit-surname" style="width: 100%; padding: 10px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 14px;">
                        </div>
                        <div class="field-group">
                            <label style="display: block; font-weight: 600; margin-bottom: 5px; color: #374151;">Ism (Given Names):</label>
                            <input type="text" id="edit-given-names" style="width: 100%; padding: 10px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 14px;">
                        </div>
                        <div class="field-group">
                            <label style="display: block; font-weight: 600; margin-bottom: 5px; color: #374151;">Passport No:</label>
                            <input type="text" id="edit-passport-no" style="width: 100%; padding: 10px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 14px;">
                        </div>
                        <div class="field-group">
                            <label style="display: block; font-weight: 600; margin-bottom: 5px; color: #374151;">Millati (Nationality):</label>
                            <input type="text" id="edit-nationality" style="width: 100%; padding: 10px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 14px;">
                        </div>
                        <div class="field-group" style="grid-column: span 2;">
                            <label style="display: block; font-weight: 600; margin-bottom: 5px; color: #374151;">Kim tomonidan berilgan (Authority):</label>
                            <textarea id="edit-authority" rows="3" style="width: 100%; padding: 10px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 14px; resize: vertical;"></textarea>
                        </div>
                    </div>

                    <div id="editPassportError" class="error" style="display: none; margin-top: 15px; padding: 12px; background: #fee; color: #c33; border-radius: 6px; border: 1px solid #fcc;"></div>

                    <div style="margin-top: 25px; display: flex; justify-content: flex-end; gap: 10px;">
                        <button onclick="closeEditPassportModal()" style="padding: 10px 20px; background: #9ca3af; color: white; border: none; border-radius: 6px; cursor: pointer; font-size: 14px;">Bekor qilish</button>
                        <button id="saveEditBtn" style="padding: 10px 20px; background: #4f46e5; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: 600; font-size: 14px;">O'zgarishlarni Saqlash</button>
                    </div>
                </div>
            </div>

            <!-- Upload -->
            <div id="uploadPage" class="page">
                <h1>ë¬¸ì„œ ì—…ë¡œë“œ</h1>
                <div id="uploadGuestMessage" class="upload-guest-message" style="display: none; margin-bottom: 16px; padding: 16px; background: #fef3c7; border-radius: 8px; color: #92400e;">
                    <strong id="uploadGuestMessageText">ë¡œê·¸ì¸ ë˜ëŠ” íšŒì›ê°€ì… í›„ ë¬¸ì„œë¥¼ ì—…ë¡œë“œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</strong>
                </div>
                <form id="uploadForm" class="upload-form">
                    <div class="form-group">
                        <label>íŒŒì¼</label>
                        <input type="file" id="fileInput" accept="image/*" required>
                    </div>
                    
                    <div class="form-group">
                        <label>íŒŒì¼ ìœ í˜•</label>
                        <select id="fileType">
                            <option value="boshqa">ê¸°íƒ€</option>
                            <option value="passport">ì—¬ê¶Œ</option>
                            <option value="id">ì‹ ë¶„ì¦</option>
                            <option value="ariza">ì‹ ì²­ì„œ</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label>ì–¸ì–´</label>
                        <select id="language">
                            <option value="auto">ìë™</option>
                            <option value="uzb">ìš°ì¦ˆë²¡ì–´</option>
                            <option value="eng">ì˜ì–´</option>
                            <option value="kor">í•œêµ­ì–´</option>
                        </select>
                    </div>
                    
                    <div id="uploadError" class="error" style="display: none;"></div>
                    
                    <button type="submit" class="btn-primary" id="uploadBtn">ì—…ë¡œë“œ</button>
                </form>
            </div>

            <!-- My Page (Profile + Documents) -->
            <div id="adminPage" class="page">
                <div class="mypage-layout">
                    <aside class="mypage-sidebar">
                        <div class="mypage-sidebar-user">
                            <div class="mypage-avatar-wrap">
                                <img id="mypageSidebarAvatar" src="" alt="" class="mypage-avatar" onerror="this.style.display='none'; this.nextElementSibling.classList.add('show');">
                                <div class="mypage-avatar-placeholder show"><span id="mypageSidebarInitial">A</span></div>
                            </div>
                            <p class="mypage-sidebar-name" id="mypageSidebarName">Admin</p>
                            <p class="mypage-sidebar-phone"><span class="mypage-icon-phone"></span><span id="mypageSidebarPhone">01065656565</span></p>
                            <span class="mypage-role-tag" id="mypageSidebarRole">ADMIN</span>
                        </div>
                        <nav class="mypage-sidebar-nav">
                            <p class="mypage-nav-title">MANAGE ACCOUNT</p>
                            <a href="#" class="mypage-nav-item active" data-mypage="profile"><span class="mypage-icon-user"></span><span class="mypage-nav-text">My Profile</span></a>
                            <a href="#" class="mypage-nav-item mypage-nav-logout" id="mypageLogout" onclick="if(window.handleLogout)handleLogout();return false;"><span class="mypage-icon-logout"></span><span class="mypage-nav-text">Logout</span></a>
                        </nav>
                    </aside>
                    <main class="mypage-content">
                        <div id="mypageProfileView" class="mypage-profile-view">
                            <div class="mypage-profile-header">
                                <h1 class="mypage-profile-title" data-i18n="myProfile">My Profile</h1>
                                <p class="mypage-profile-subtitle" data-i18n="weGladToSeeYou">We are glad to see you again!</p>
                            </div>
                            <div class="mypage-card">
                                <h2 class="mypage-card-title" data-i18n="profilePhoto">Photo</h2>
                                <div class="mypage-photo-row">
                                    <div class="mypage-photo-wrap">
                                        <img id="mypageProfileAvatar" src="" alt="" class="mypage-profile-avatar" onerror="this.style.display='none'; this.nextElementSibling.classList.add('show');">
                                        <div class="mypage-avatar-placeholder show"><span id="mypageProfileInitial">A</span></div>
                                    </div>
                                    <div class="mypage-photo-actions">
                                        <input type="file" id="mypagePhotoInput" accept=".jpg,.jpeg,.png,.webp,image/jpeg,image/png,image/webp" style="display: none;">
                                        <button type="button" class="btn-mypage-upload" id="mypageUploadPhotoBtn"><span data-i18n="uploadPhoto">Upload Profile Image</span></button>
                                        <p class="mypage-photo-hint" data-i18n="photoHint">A photo must be in JPG, JPEG, PNG or WebP format!</p>
                                    </div>
                                </div>
                            </div>
                            <div class="mypage-card">
                                <h2 class="mypage-card-title" data-i18n="userInfo">User Information</h2>
                                <div class="mypage-form-row">
                                    <div class="form-group">
                                        <label data-i18n="username">Username</label>
                                        <input type="text" id="mypageUsername" class="form-input" value="">
                                    </div>
                                    <div class="form-group">
                                        <label data-i18n="phone">Phone</label>
                                        <input type="tel" id="mypagePhone" class="form-input" value="">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label data-i18n="address">Address</label>
                                    <input type="text" id="mypageAddress" class="form-input" value="">
                                </div>
                            </div>
                            <div class="mypage-actions">
                                <button type="button" class="btn-mypage-update" id="mypageUpdateBtn"><span data-i18n="updateProfile">Update Profile</span> <span class="mypage-arrow">â†’</span></button>
                            </div>
                        </div>
                        <div id="mypageDocumentsView" class="mypage-documents-view" style="display: none;">
                            <div class="admin-documents-section">
                                <div class="admin-section-header">
                                    <h2 id="adminSectionHeaderH2">ë¬¸ì„œ</h2>
                                    <div class="admin-filters" id="adminFiltersDiv">
                                        <button class="btn-filter active" onclick="filterAdminDocuments('all')">ì „ì²´</button>
                                        <button class="btn-filter" onclick="filterAdminDocuments('pending')">ëŒ€ê¸° ì¤‘</button>
                                        <button class="btn-filter" onclick="filterAdminDocuments('approved')">ìŠ¹ì¸ë¨</button>
                                        <button class="btn-filter" onclick="filterAdminDocuments('rejected')">ê±°ë¶€ë¨</button>
                                    </div>
                                </div>
                                <div id="adminDocumentsList" class="admin-documents-list"></div>
                            </div>
                        </div>
                    </main>
                </div>
            </div>
            
            <!-- Admin Document Verification Page -->
            <div id="adminVerificationPage" class="page">
                <button onclick="showPage('admin')" class="btn-back">â† ë’¤ë¡œ</button>
                <div id="adminVerificationContent"></div>
            </div>

            <!-- Admin Panel Page (faqat admin uchun: obunachilar + skaner ma'lumotlari) -->
            <div id="adminPanelPage" class="page">
                <div class="page-header" style="margin-bottom: 24px;">
                    <h1 id="adminPanelTitle">Admin</h1>
                </div>
                <div class="admin-panel-sections">
                    <section class="admin-panel-section">
                        <h2 id="adminSubscribersTitle">Obunachilar (Ro'yxatdan o'tganlar)</h2>
                        <p class="admin-panel-desc" id="adminSubscribersDesc">Signup qilishda kiritilgan ma'lumotlar</p>
                        <div class="admin-table-wrap">
                            <table class="admin-table">
                                <thead>
                                    <tr>
                                        <th id="thSubscriberUsername">Foydalanuvchi</th>
                                        <th id="thSubscriberEmail">Email</th>
                                        <th id="thSubscriberCreated">Ro'yxatdan o'tgan sana</th>
                                    </tr>
                                </thead>
                                <tbody id="adminSubscribersList">
                                    <tr><td colspan="3" class="loading">Yuklanmoqda...</td></tr>
                                </tbody>
                            </table>
                        </div>
                        <p id="adminSubscribersNote" class="admin-panel-note" style="display: none; margin-top: 8px; font-size: 0.9em; color: #6b7280;"></p>
                    </section>
                    <section class="admin-panel-section">
                        <h2 id="adminScannerTitle">Skaner ma'lumotlari</h2>
                        <p class="admin-panel-desc" id="adminScannerDesc">OCR / yuklangan hujjatlar ro'yxati</p>
                        <div class="admin-table-wrap">
                            <table class="admin-table">
                                <thead>
                                    <tr>
                                        <th>ID</th>
                                        <th id="thScannerFileType">Fayl turi</th>
                                        <th id="thScannerUser">Foydalanuvchi</th>
                                        <th id="thScannerStatus">Holat</th>
                                        <th id="thScannerCreated">Sana</th>
                                        <th id="thScannerAction">Amal</th>
                                    </tr>
                                </thead>
                                <tbody id="adminScannerList">
                                    <tr><td colspan="6" class="loading">Yuklanmoqda...</td></tr>
                                </tbody>
                            </table>
                        </div>
                    </section>
                </div>
            </div>

            <!-- Branch Finder Page -->
            <div id="branchPage" class="page">
                <div class="page-header">
                    <h1>ì§€ì‚¬ì°¾ê¸°</h1>
                </div>
                <div class="service-content">
                    <p>ê°€ê¹Œìš´ ì§€ì‚¬ë¥¼ ì°¾ì•„ë³´ì„¸ìš”.</p>
                    <div id="branchMap" class="branch-map-container" style="width: 100%; height: 400px; background: #f0f0f0; border-radius: 12px; min-height: 400px;"></div>
                </div>
            </div>

            <!-- Forms Finder Page -->
            <div id="formsPage" class="page">
                <div class="page-header">
                    <h1>ì„œì‹ì°¾ê¸°</h1>
                </div>
                <div class="service-content">
                    <p>í•„ìš”í•œ ì„œì‹ì„ ë‹¤ìš´ë¡œë“œí•˜ì„¸ìš”.</p>
                    <div class="forms-list">
                        <div class="form-item">
                            <h3>ì—¬ê¶Œ ë²ˆì—­ ì„œì‹</h3>
                            <p>ì—¬ê¶Œ ë²ˆì—­ì„ ìœ„í•œ ê³µì‹ ì„œì‹</p>
                            <button class="btn-primary">PDF ë‹¤ìš´ë¡œë“œ</button>
                        </div>
                        <div class="form-item">
                            <h3>ì—°ê¸ˆ ì‹ ì²­ì„œ</h3>
                            <p>ì—°ê¸ˆ ì‹ ì²­ì„ ìœ„í•œ ì„œì‹</p>
                            <button class="btn-primary">PDF ë‹¤ìš´ë¡œë“œ</button>
                        </div>
                        <div class="form-item">
                            <h3>ì‹ ë¶„ì¦ ë²ˆì—­ ì„œì‹</h3>
                            <p>ì‹ ë¶„ì¦ ë²ˆì—­ì„ ìœ„í•œ ì„œì‹</p>
                            <button class="btn-primary">PDF ë‹¤ìš´ë¡œë“œ</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Calculator Page - Pensiya kalkulyatori / ì—°ê¸ˆ ê³„ì‚°ê¸° -->
            <div id="calculatorPage" class="page">
                <div class="page-header">
                    <h1>ì—°ê¸ˆ ê³„ì‚°ê¸° / Pensiya kalkulyatori</h1>
                </div>
                <div class="service-content">
                    <p><strong>í•œêµ­ì–´:</strong> ë‚˜ì´ì™€ <strong>ë§¤ì›” ì—°ê¸ˆ ë‚©ë¶€ì•¡</strong>ì„ ì…ë ¥í•˜ë©´ ì˜ˆìƒ ì›” ì—°ê¸ˆì„ ê³„ì‚°í•©ë‹ˆë‹¤.<br>
                    <strong>O'zbek:</strong> Yoshingiz va <strong>har oy pensiya fondiga qo'yadigan summani</strong> (oylik badal) kiriting â€“ taxminiy oylik pensiya hisoblanadi.</p>
                    <div class="calculator-form">
                        <div class="form-group">
                            <label>ë‚˜ì´ / Yoshi</label>
                            <input type="number" id="calcAge" min="18" max="100" placeholder="ì˜ˆ: 35 / Masalan: 35">
                        </div>
                        <div class="form-group">
                            <label>ì›” ë‚©ë¶€ì•¡ / Pensiya uchun oylik badal</label>
                            <input type="number" id="calcMonthly" min="0" placeholder="ë§¤ì›” ë‚©ë¶€ ê¸ˆì•¡ ì˜ˆ: 500000 / Har oy: 500000">
                        </div>
                        <button class="btn-primary" id="calcBtn">ê³„ì‚°í•˜ê¸° / Hisobla</button>
                        <div id="calcResult" style="margin-top: 20px; padding: 20px; background: #f0fdf4; border-radius: 8px; border: 1px solid #bbf7d0; display: none;">
                            <h3>ì˜ˆìƒ ì—°ê¸ˆ / Taxminiy pensiya</h3>
                            <p id="calcResultValue" style="font-size: 1.5em; color: #166534; font-weight: bold;"></p>
                            <p id="calcResultNote" style="margin-top: 8px; font-size: 0.9em; color: #6b7280;"></p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Guide Page -->
            <div id="guidePage" class="page">
                <div class="page-header">
                    <h1>ì•Œê¸°ì‰¬ìš´ ì•ˆë‚´</h1>
                </div>
                <div class="service-content">
                    <div class="guide-sections">
                        <div class="guide-section">
                            <h2>OCR ì‚¬ìš© ë°©ë²•</h2>
                            <p>ë¬¸ì„œë¥¼ ì—…ë¡œë“œí•˜ê³  AIê°€ ìë™ìœ¼ë¡œ ì •ë³´ë¥¼ ì¶”ì¶œí•©ë‹ˆë‹¤.</p>
                        </div>
                        <div class="guide-section">
                            <h2>ë¬¸ì„œ ì—…ë¡œë“œ</h2>
                            <p>ì—¬ê¶Œ, ì‹ ë¶„ì¦, ì‹ ì²­ì„œ ë“±ì„ ì—…ë¡œë“œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                        </div>
                        <div class="guide-section">
                            <h2>ë°ì´í„° ë³´ì•ˆ</h2>
                            <p>ëª¨ë“  ê°œì¸ì •ë³´ëŠ” ì•ˆì „í•˜ê²Œ ë³´í˜¸ë©ë‹ˆë‹¤.</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Web Fax Page -->
            <div id="webfaxPage" class="page">
                <div class="page-header">
                    <h1>ì›¹íŒ©ìŠ¤ ì¡°íšŒ</h1>
                </div>
                <div class="service-content">
                    <p>ì›¹íŒ©ìŠ¤ ë‚´ì—­ì„ ì¡°íšŒí•˜ì„¸ìš”.</p>
                    <div class="webfax-list">
                        <div class="webfax-item">
                            <span>2026-01-23</span>
                            <span>ë¬¸ì„œ #1</span>
                            <span>ì²˜ë¦¬ ì™„ë£Œ</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Statistics Page -->
            <div id="statisticsPage" class="page">
                <div class="page-header">
                    <h1>í†µê³„</h1>
                </div>
                <div class="service-content">
                    <p>ì›”ë³„ í†µê³„ë¥¼ í™•ì¸í•˜ì„¸ìš”.</p>
                    <div id="statisticsChart" style="width: 100%; height: 400px; background: white; border-radius: 12px; padding: 20px; display: flex; align-items: center; justify-content: center; color: #666;">
                        í†µê³„ ì°¨íŠ¸ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤
                    </div>
                </div>
            </div>

            <!-- Chat Page -->
            <div id="chatPage" class="page">
                <div class="page-header">
                    <h1>ì±„íŒ…ìƒë‹´</h1>
                </div>
                <div class="service-content">
                    <div class="chat-container">
                        <div class="chat-messages" id="chatMessages">
                            <div class="chat-message bot">
                                <p>ì•ˆë…•í•˜ì„¸ìš”! ë¬´ì—‡ì„ ë„ì™€ë“œë¦´ê¹Œìš”?</p>
                            </div>
                        </div>
                        <div class="chat-input-container">
                            <input type="text" id="chatInput" placeholder="ë©”ì‹œì§€ë¥¼ ì…ë ¥í•˜ì„¸ìš”..." class="chat-input">
                            <button class="btn-primary" id="chatSendBtn">ì „ì†¡</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- About Us Page -->
            <div id="aboutUsPage" class="page">
                <div class="page-header">
                    <h1 id="aboutUsTitle" data-i18n="aboutUsTitle">About Us</h1>
                </div>
                <div class="service-content about-us-content">
                    <p class="about-us-intro" id="aboutUsIntro" data-i18n="aboutUsIntro">AI-OCR is a document recognition service that uses artificial intelligence to extract text and data from imagesâ€”such as passports, IDs, and application forms. It supports multiple languages and helps individuals and organizations process documents quickly and accurately.</p>
                    <section class="about-section">
                        <h2 id="aboutUsMissionTitle" data-i18n="aboutUsMissionTitle">Our Mission</h2>
                        <p id="aboutUsMission" data-i18n="aboutUsMission">We aim to make document processing fast, accurate, and accessible for everyone. We support multilingual users and offer free or discounted service for low-income groups where applicable.</p>
                    </section>
                    <section class="about-section">
                        <h2 id="aboutUsFeaturesTitle" data-i18n="aboutUsFeaturesTitle">What We Offer</h2>
                        <p id="aboutUsFeatures" data-i18n="aboutUsFeatures">Passport and ID recognition, multi-language OCR (Korean, Uzbek, Russian, and more), real-time verification, secure data handling, pension calculator, branch finder, form downloads, and web fax inquiry.</p>
                    </section>
                    <section class="about-section">
                        <h2 id="aboutUsWhoTitle" data-i18n="aboutUsWhoTitle">Who We Serve</h2>
                        <p id="aboutUsWho" data-i18n="aboutUsWho">Individuals who need to submit translated documents, businesses handling paperwork, and anyone who benefits from fast, reliable document digitizationâ€”with a focus on accessibility for non-Korean speakers and underserved communities.</p>
                    </section>
                </div>
            </div>
        </main>

        <!-- AI Chat (Locohub-style floating panel) -->
        <div class="aichat-wrap chatting">
            <div class="aichat-btn-gradient-wrap">
            <button type="button" class="chat-button" id="aiChatFloatBtn" title="AI Chat">
                <span class="chat-btn-icon" id="aiChatBtnIcon">âœ¦</span>
                <span class="chat-btn-text">AI Chat</span>
            </button>
            </div>
            <div class="chat-frame" id="aiChatFrame">
                <div class="chat-top">
                    <span class="chat-top-icon">âœ¦</span>
                    <span>AI Chat</span>
                </div>
                <div class="chat-content" id="aiChatContent">
                    <div class="chat-main" id="aiChatMain">
                        <div class="chat-welcome" id="aiChatWelcome">Welcome to AI Chat! Ask about documents, pension, branches, forms.</div>
                        <div id="aiChatMessages"></div>
                    </div>
                </div>
                <div class="chat-bott">
                    <input type="text" class="msg-input" id="aiChatInput" placeholder="Type message..." autocomplete="off">
                    <button type="button" class="send-msg-btn" id="aiChatSendBtn" title="Send">â¤</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="config.js"></script>
    <script src="config.local.js"></script>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
    <script src="translations.js"></script>
    <script src="app.js?v=6"></script>
</body>
</html>
