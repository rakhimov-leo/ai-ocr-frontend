<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <title>AI-OCR ÏãúÏä§ÌÖú</title>
    <!-- Favicon: OCR icon ‚Äì oq fon, qizil yozuv -->
    <link rel="icon" type="image/svg+xml" href="assets/ocr-icon.svg">
    <link rel="apple-touch-icon" href="assets/ocr-icon.svg">
    <link rel="stylesheet" href="styles.css?v=6">
    <link rel="stylesheet" href="admin-styles.css">
    <link rel="stylesheet" href="dark-mode.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="">
    <script>
        (function(){ try { if (localStorage.getItem('darkMode') === 'true') document.documentElement.classList.add('dark-mode'); } catch(e) {} })();
    </script>
</head>
<body>
    <!-- Welcome overlay ‚Äì ochilganda markazda, 5 sekunddan keyin yo'qoladi -->
    <div id="welcomeOverlay" class="welcome-overlay" aria-hidden="false">
        <span class="welcome-overlay-text">Welcome to AI-OCR</span>
    </div>
    <!-- Login Screen -->
    <div id="loginScreen" class="screen">
        <div class="login-container">
                <div class="login-card-gradient-wrap">
                <div class="login-card">
                <h1>AI-OCR ÏãúÏä§ÌÖú</h1>
                <p class="subtitle">Î°úÍ∑∏Ïù∏</p>
                
                <div id="loginFormContainer">
                    <form id="loginForm">
                    <div class="form-group">
                        <label>ÏÇ¨Ïö©ÏûêÎ™Ö</label>
                        <input type="text" id="username" placeholder="" required>
                    </div>
                    
                    <div class="form-group">
                        <label>ÎπÑÎ∞ÄÎ≤àÌò∏</label>
                        <input type="password" id="password" placeholder="ÎπÑÎ∞ÄÎ≤àÌò∏" required>
                    </div>
                    
                    <div id="loginError" class="error" style="display: none;"></div>
                    
                    <button type="submit" class="btn-primary">Î°úÍ∑∏Ïù∏</button>
                </form>
                
                <div class="login-switch">
                    <p><span id="needAccountText">ÏÉà Í≥ÑÏ†ïÏù¥ ÌïÑÏöîÌïòÏã†Í∞ÄÏöî?</span> <a href="#" id="showSignup">ÌöåÏõêÍ∞ÄÏûÖ</a></p>
                </div>
                <div class="login-switch" style="margin-top: 12px;">
                    <p><a href="#" id="browseWithoutLogin">Î°úÍ∑∏Ïù∏ ÏóÜÏù¥ ÎëòÎü¨Î≥¥Í∏∞</a></p>
                </div>
                </div>
                
                <div id="signupFormContainer" style="display: none;">
                    <form id="signupForm">
                        <div class="form-group">
                            <label>ÏÇ¨Ïö©ÏûêÎ™Ö</label>
                            <input type="text" id="signupUsername" placeholder="" required>
                        </div>
                        
                        <div class="form-group">
                            <label>Ïù¥Î©îÏùº (ÏÑ†ÌÉùÏÇ¨Ìï≠)</label>
                            <input type="email" id="signupEmail" placeholder="email@example.com">
                        </div>
                        
                        <div class="form-group">
                            <label id="signupRoleLabel">Maqom</label>
                            <select id="signupRole">
                                <option value="user">User</option>
                                <option value="agent">Agent</option>
                            </select>
                        </div>
                        
                        <div id="signupAdminPasswordGroup" class="form-group" style="display: none;">
                            <label id="signupAdminPasswordLabel">Admin bo'lish uchun maxfiy kalit</label>
                            <input type="password" id="signupAdminPassword" placeholder="Maxfiy kalitni kiriting">
                        </div>
                        
                        <div class="form-group">
                            <label>ÎπÑÎ∞ÄÎ≤àÌò∏</label>
                            <input type="password" id="signupPassword" placeholder="ÏµúÏÜå 6Ïûê Ïù¥ÏÉÅ" required minlength="6">
                        </div>
                        
                        <div class="form-group">
                            <label>ÎπÑÎ∞ÄÎ≤àÌò∏ ÌôïÏù∏</label>
                            <input type="password" id="signupPasswordConfirm" placeholder="ÎπÑÎ∞ÄÎ≤àÌò∏Î•º Îã§Ïãú ÏûÖÎ†•ÌïòÏÑ∏Ïöî" required minlength="6">
                        </div>
                        
                        <div id="signupError" class="error" style="display: none;"></div>
                        
                        <button type="submit" class="btn-primary">ÌöåÏõêÍ∞ÄÏûÖ</button>
                    </form>
                    
                    <div class="login-switch">
                        <p><span id="haveAccountText">Ïù¥ÎØ∏ Í≥ÑÏ†ïÏù¥ ÏûàÏúºÏã†Í∞ÄÏöî?</span> <a href="#" id="showLogin">Î°úÍ∑∏Ïù∏</a></p>
                    </div>
                    <div class="login-switch" style="margin-top: 12px;">
                        <p><a href="#" id="browseWithoutLoginSignup">Î°úÍ∑∏Ïù∏ ÏóÜÏù¥ ÎëòÎü¨Î≥¥Í∏∞</a></p>
                    </div>
                </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Main App -->
    <div id="appScreen" class="screen active">
        <!-- Top Navigation Bar (Modern LocoHub Style) -->
        <header class="top-nav-modern">
            <div class="nav-container">
                <!-- PC versiyada: Barcha elementlar 1 qatorda -->
                <!-- Mobile versiyada: 2 qatorga bo'linadi -->
                <div class="nav-left">
                    <div class="logo-modern" id="logoHomeLink" role="button" title="Bosh sahifa">
                        <div class="logo-icon-triangle">‚ñ≤</div>
                        <span class="logo-text-modern">AI-OCR</span>
                    </div>
                </div>
                <!-- PC versiyada: Navigation links birinchi qatorda ko'rinadi -->
                <!-- Mobile versiyada: Navigation links yashiriladi -->
                <nav class="nav-links-modern nav-links-pc" id="navLinks">
                    <a href="#" data-page="dashboard" class="nav-link-modern">Home</a>
                    <a href="#" data-page="documents" class="nav-link-modern">Documents</a>
                    <a href="#" data-page="upload" class="nav-link-modern">Upload</a>
                    <a href="#" data-page="admin" class="nav-link-modern" id="adminNavLink">My Page</a>
                    <a href="#" data-page="adminPanel" class="nav-link-modern" id="adminPanelNavLink" style="display: none;">Admin</a>
                    <a href="#" data-page="aboutUs" class="nav-link-modern">About Us</a>
                </nav>
                <div class="nav-right-modern">
                    <!-- Language Selector -->
                    <div class="language-selector-container">
                        <select id="languageSelector" class="language-selector">
                            <option value="ko">ÌïúÍµ≠Ïñ¥</option>
                            <option value="en">English</option>
                            <option value="uz">O'zbek</option>
                            <option value="ru">–†—É—Å—Å–∫–∏–π</option>
                            <option value="mn">–ú–æ–Ω–≥–æ–ª</option>
                            <option value="zh">‰∏≠Êñá</option>
                            <option value="vi">Ti·∫øng Vi·ªát</option>
                            <option value="th">‡πÑ‡∏ó‡∏¢</option>
                        </select>
                    </div>
                    <div class="nav-icons-modern">
                        <span class="nav-icon-modern">‚äû</span>
                        <span class="nav-icon-modern">üîî</span>
                        <span class="nav-icon-modern" id="darkModeToggle" title="Dark Mode">üåô</span>
                    </div>
                    <div class="profile-picture-modern" id="profileSection">
                        <div class="avatar-circle-modern" id="profileDropdownToggle">üë§</div>
                        <!-- Profile Dropdown Overlay (Mobile uchun) -->
                        <div class="profile-dropdown-overlay" id="profileDropdownOverlay"></div>
                        <!-- Profile Dropdown Menu -->
                        <div class="profile-dropdown" id="profileDropdown">
                            <!-- X Close Button (Mobile uchun) -->
                            <button class="profile-dropdown-close" id="profileDropdownClose">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <line x1="18" y1="6" x2="6" y2="18"></line>
                                    <line x1="6" y1="6" x2="18" y2="18"></line>
                                </svg>
                            </button>
                            <div class="profile-dropdown-content">
                                <button type="button" class="profile-dropdown-logout profile-dropdown-login" id="topNavLoginBtn" onclick="if(window.showLoginScreen)showLoginScreen();return false;">
                                    <span>üîë Î°úÍ∑∏Ïù∏</span>
                                </button>
                                <button type="button" class="profile-dropdown-logout" id="topNavLogoutBtn" style="display: none;" onclick="if(window.handleLogout)handleLogout();return false;">
                                    <span>üö™ Î°úÍ∑∏ÏïÑÏõÉ</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Mobile versiyada: Navigation links 2-qatorda ko'rinadi -->
                <!-- PC versiyada: Navigation links yashiriladi -->
                <div class="nav-row-second">
                    <nav class="nav-links-modern nav-links-mobile" id="navLinksMobile">
                        <a href="#" data-page="dashboard" class="nav-link-modern">Home</a>
                        <a href="#" data-page="documents" class="nav-link-modern">Documents</a>
                        <a href="#" data-page="upload" class="nav-link-modern">Upload</a>
                        <a href="#" data-page="admin" class="nav-link-modern" id="adminNavLinkMobile">My Page</a>
                        <a href="#" data-page="adminPanel" class="nav-link-modern" id="adminPanelNavLinkMobile" style="display: none;">Admin</a>
                        <a href="#" data-page="aboutUs" class="nav-link-modern">About Us</a>
                    </nav>
                </div>
            </div>
        </header>
        
        <!-- Main Content -->
        <main class="main-content">
            <!-- Dashboard (NPS Style) -->
            <div id="dashboardPage" class="page active">
                <!-- Featured Information Section -->
                <div class="featured-section">
                    <div class="featured-content">
                        <h1 class="featured-title">2026ÎÖÑ AI-OCR ÏãúÏä§ÌÖú, Ïù¥Î†áÍ≤å Îã¨ÎùºÏßëÎãàÎã§</h1>
                        <ul class="featured-list">
                            <li class="featured-list-item">
                                <label class="checkbox-label">
                                    <input type="checkbox" class="featured-checkbox" data-feature="accuracy">
                                    <span class="checkbox-custom"></span>
                                    <span class="featured-text">(Ï†ïÌôïÎèÑ Ìñ•ÏÉÅ) OCR Ï†ïÌôïÎèÑ 95% ‚Üí 98%</span>
                                </label>
                            </li>
                            <li class="featured-list-item">
                                <label class="checkbox-label">
                                    <input type="checkbox" class="featured-checkbox" data-feature="trust">
                                    <span class="checkbox-custom"></span>
                                    <span class="featured-text">(ÏÇ¨Ïö©Ïûê Ïã†Î¢∞ Ï†úÍ≥†) Ïã§ÏãúÍ∞Ñ Í≤ÄÏ¶ù ÏãúÏä§ÌÖú ÎèÑÏûÖ</span>
                                </label>
                            </li>
                            <li class="featured-list-item">
                                <label class="checkbox-label">
                                    <input type="checkbox" class="featured-checkbox" data-feature="performance">
                                    <span class="checkbox-custom"></span>
                                    <span class="featured-text">(ÏÑ±Îä• Í∞ïÌôî) Ï≤òÎ¶¨ ÏÜçÎèÑ 2Î∞∞ Ìñ•ÏÉÅ</span>
                                </label>
                            </li>
                        </ul>
                        <p class="featured-description">Îã§Íµ≠Ïñ¥ ÏßÄÏõê ÌôïÎåÄ, Ï†ÄÏÜåÎìùÏ∏µ Î¨¥Î£å ÏÑúÎπÑÏä§ ÎåÄÏÉÅ ÌôïÎåÄÍπåÏßÄ</p>
                    </div>
                    <div class="featured-video">
                        <video class="featured-video-player" autoplay muted loop playsinline preload="none"
                            poster="" src="assets/ai-ocrhomepage.webm">Your browser does not support the video tag.</video>
                    </div>
                </div>
                
                <!-- Main Content Grid -->
                <div class="dashboard-grid">
                    <!-- News & Information Box (gradient border) -->
                    <div class="news-box-gradient-wrap">
                    <div class="news-box">
                        <div class="box-header">
                            <h2>ÏÜåÏãù¬∑Ï†ïÎ≥¥</h2>
                            <button class="btn-more">ÎçîÎ≥¥Í∏∞ +</button>
                        </div>
                        <div class="box-tabs">
                            <button class="tab active">ÏÉàÏÜåÏãù</button>
                            <button class="tab">Î≥¥ÎèÑÏûêÎ£å</button>
                            <button class="tab">ÌôçÎ≥¥ÏÑºÌÑ∞</button>
                            <button class="tab">Ï±ÑÏö©Í≥µÍ≥†</button>
                        </div>
                        <div class="news-list">
                            <div class="news-item">
                                <span class="news-date">2026-01-12</span>
                                <span class="news-title">2026ÎÖÑ AI-OCR ÏãúÏä§ÌÖú ÏóÖÎç∞Ïù¥Ìä∏ ÏïàÎÇ¥</span>
                            </div>
                            <div class="news-item">
                                <span class="news-date">2026-01-14</span>
                                <span class="news-title">ÏÉàÎ°úÏö¥ Î¨∏ÏÑú Ïù∏Ïãù Í∏∞Îä• Ï∂îÍ∞Ä</span>
                            </div>
                            <div class="news-item">
                                <span class="news-date">2025-12-29</span>
                                <span class="news-title">ÎπÑÎåÄÎ©¥ Ï±ÑÎÑêÏùÑ ÌÜµÌïú ÏÑúÎπÑÏä§ ÏïàÎÇ¥</span>
                            </div>
                        </div>
                    </div>
                    </div>
                    
                    <!-- Frequently Used Services (gradient border, dark mode ‚Äì oq emas) -->
                    <div class="services-box-gradient-wrap">
                    <div class="services-box">
                        <h2>ÏûêÏ£º Ï∞æÎäî ÏÑúÎπÑÏä§</h2>
                        <div class="services-grid">
                            <div class="service-item" data-service="documents">
                                <div class="service-icon">
                                    <!-- Box/Document Icon SVG -->
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="service-svg-icon">
                                        <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path>
                                        <polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline>
                                        <line x1="12" y1="22.08" x2="12" y2="12"></line>
                                    </svg>
                                </div>
                                <span>ÎÇ¥ Î¨∏ÏÑú ÏïåÏïÑÎ≥¥Í∏∞</span>
                            </div>
                            <div class="service-item" data-service="branch">
                                <div class="service-icon">
                                    <!-- Map Pin Icon SVG -->
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="service-svg-icon">
                                        <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
                                        <circle cx="12" cy="10" r="3"></circle>
                                    </svg>
                                </div>
                                <span>ÏßÄÏÇ¨Ï∞æÍ∏∞</span>
                            </div>
                            <div class="service-item" data-service="forms">
                                <div class="service-icon">
                                    <!-- Search Icon SVG -->
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="service-svg-icon">
                                        <circle cx="11" cy="11" r="8"></circle>
                                        <path d="m21 21-4.35-4.35"></path>
                                    </svg>
                                </div>
                                <span>ÏÑúÏãùÏ∞æÍ∏∞</span>
                            </div>
                            <div class="service-item" data-service="calculator">
                                <div class="service-icon">
                                    <!-- Calculator Icon SVG -->
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="service-svg-icon">
                                        <rect x="4" y="2" width="16" height="20" rx="2"></rect>
                                        <line x1="8" y1="6" x2="16" y2="6"></line>
                                        <line x1="8" y1="10" x2="16" y2="10"></line>
                                        <line x1="8" y1="14" x2="12" y2="14"></line>
                                        <line x1="8" y1="18" x2="12" y2="18"></line>
                                        <line x1="14" y1="14" x2="16" y2="14"></line>
                                        <line x1="14" y1="18" x2="16" y2="18"></line>
                                    </svg>
                                </div>
                                <span>Í≥ÑÏÇ∞Í∏∞</span>
                            </div>
                            <div class="service-item" data-service="guide">
                                <div class="service-icon">
                                    <!-- Laptop/Guide Icon SVG -->
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="service-svg-icon">
                                        <rect x="2" y="4" width="20" height="15" rx="2" ry="2"></rect>
                                        <line x1="6" y1="8" x2="6.01" y2="8"></line>
                                        <line x1="6" y1="12" x2="18" y2="12"></line>
                                        <line x1="6" y1="16" x2="18" y2="16"></line>
                                        <line x1="12" y1="8" x2="18" y2="8"></line>
                                        <path d="M2 20h20"></path>
                                    </svg>
                                </div>
                                <span>ÏïåÍ∏∞Ïâ¨Ïö¥ ÏïàÎÇ¥</span>
                            </div>
                            <div class="service-item" data-service="webfax">
                                <div class="service-icon">
                                    <!-- Folder/File Icon SVG -->
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="service-svg-icon">
                                        <path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path>
                                        <line x1="12" y1="11" x2="12" y2="17"></line>
                                        <line x1="9" y1="14" x2="15" y2="14"></line>
                                    </svg>
                                </div>
                                <span>ÏõπÌå©Ïä§ Ï°∞Ìöå</span>
                            </div>
                            <div class="service-item" data-service="statistics">
                                <div class="service-icon">
                                    <!-- Bar Chart/Statistics Icon SVG -->
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="service-svg-icon">
                                        <line x1="12" y1="20" x2="12" y2="10"></line>
                                        <line x1="18" y1="20" x2="18" y2="4"></line>
                                        <line x1="6" y1="20" x2="6" y2="16"></line>
                                    </svg>
                                </div>
                                <span>ÌÜµÍ≥Ñ</span>
                            </div>
                            <div class="service-item" data-service="chat">
                                <div class="service-icon">
                                    <!-- Message/Chat Icon SVG -->
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="service-svg-icon">
                                        <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
                                        <line x1="9" y1="10" x2="15" y2="10"></line>
                                        <line x1="9" y1="14" x2="12" y2="14"></line>
                                    </svg>
                                </div>
                                <span>Ï±ÑÌåÖÏÉÅÎã¥</span>
                            </div>
                        </div>
                    </div>
                    </div>
                </div>
            </div>

            <!-- Documents -->
            <div id="documentsPage" class="page">
                <div class="documents-page-header">
                    <div class="page-header">
                        <h1>Î¨∏ÏÑú</h1>
                        <a href="#" data-page="upload" class="btn-primary">+ ÏÉà Î¨∏ÏÑú</a>
                    </div>
                    <div class="documents-search-wrap">
                        <input type="text" id="documentsSearch" class="documents-search" placeholder="ID, fayl turi, holat bo'yicha qidirish..." aria-label="Qidirish">
                    </div>
                </div>
                <div class="documents-table-wrap">
                    <div class="documents-table">
                        <table>
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>ÌååÏùº Ïú†Ìòï</th>
                                    <th>Account</th>
                                    <th>ÏÉÅÌÉú</th>
                                    <th>Ïã†Î¢∞ÎèÑ</th>
                                    <th>ÏÉùÏÑ±Ïùº</th>
                                    <th>ÏûëÏóÖ</th>
                                </tr>
                            </thead>
                            <tbody id="documentsTableBody">
                                <tr><td colspan="7" class="loading">Î°úÎî© Ï§ë...</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div id="documentsControls" class="documents-controls" style="display: none;">
                    <span id="documentsShowMore" class="documents-show-more" role="button" tabindex="0">Show more</span>
                    <div id="documentsPagination" class="documents-pagination" style="display: none;"></div>
                </div>
            </div>

            <!-- Document Detail -->
            <div id="documentDetailPage" class="page">
                <button onclick="showPage('documents')" class="btn-back">‚Üê Îí§Î°ú</button>
                <div id="documentDetailContent"></div>
            </div>

            <!-- Edit Passport Modal -->
            <div id="editPassportModal" class="modal-overlay" style="display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); overflow-y: auto;">
                <div class="modal-content" style="background: white; margin: 5% auto; padding: 25px; width: 60%; max-width: 800px; border-radius: 12px; box-shadow: 0 5px 20px rgba(0,0,0,0.3);">
                    <div style="display: flex; justify-content: space-between; align-items: center; border-bottom: 2px solid #f3f4f6; padding-bottom: 15px; margin-bottom: 20px;">
                        <h2 style="color: #1f2937; margin: 0;">Passport Ma'lumotlarini Tahrirlash</h2>
                        <button onclick="closeEditPassportModal()" style="background: none; border: none; font-size: 28px; cursor: pointer; color: #6b7280; padding: 0; width: 30px; height: 30px; display: flex; align-items: center; justify-content: center;">&times;</button>
                    </div>

                    <div id="editFieldsContainer" class="passport-card" style="margin-top: 20px; display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                        <div class="field-group">
                            <label style="display: block; font-weight: 600; margin-bottom: 5px; color: #374151;">Familiya (Surname):</label>
                            <input type="text" id="edit-surname" style="width: 100%; padding: 10px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 14px;">
                        </div>
                        <div class="field-group">
                            <label style="display: block; font-weight: 600; margin-bottom: 5px; color: #374151;">Ism (Given Names):</label>
                            <input type="text" id="edit-given-names" style="width: 100%; padding: 10px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 14px;">
                        </div>
                        <div class="field-group">
                            <label style="display: block; font-weight: 600; margin-bottom: 5px; color: #374151;">Passport No:</label>
                            <input type="text" id="edit-passport-no" style="width: 100%; padding: 10px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 14px;">
                        </div>
                        <div class="field-group">
                            <label style="display: block; font-weight: 600; margin-bottom: 5px; color: #374151;">Millati (Nationality):</label>
                            <input type="text" id="edit-nationality" style="width: 100%; padding: 10px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 14px;">
                        </div>
                        <div class="field-group" style="grid-column: span 2;">
                            <label style="display: block; font-weight: 600; margin-bottom: 5px; color: #374151;">Kim tomonidan berilgan (Authority):</label>
                            <textarea id="edit-authority" rows="3" style="width: 100%; padding: 10px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 14px; resize: vertical;"></textarea>
                        </div>
                    </div>

                    <div id="editPassportError" class="error" style="display: none; margin-top: 15px; padding: 12px; background: #fee; color: #c33; border-radius: 6px; border: 1px solid #fcc;"></div>

                    <div style="margin-top: 25px; display: flex; justify-content: flex-end; gap: 10px;">
                        <button onclick="closeEditPassportModal()" style="padding: 10px 20px; background: #9ca3af; color: white; border: none; border-radius: 6px; cursor: pointer; font-size: 14px;">Bekor qilish</button>
                        <button id="saveEditBtn" style="padding: 10px 20px; background: #4f46e5; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: 600; font-size: 14px;">O'zgarishlarni Saqlash</button>
                    </div>
                </div>
            </div>

            <!-- Upload -->
            <div id="uploadPage" class="page">
                <h1>Î¨∏ÏÑú ÏóÖÎ°úÎìú</h1>
                <div id="uploadGuestMessage" class="upload-guest-message" style="display: none; margin-bottom: 16px; padding: 16px; background: #fef3c7; border-radius: 8px; color: #92400e;">
                    <strong id="uploadGuestMessageText">Î°úÍ∑∏Ïù∏ ÎòêÎäî ÌöåÏõêÍ∞ÄÏûÖ ÌõÑ Î¨∏ÏÑúÎ•º ÏóÖÎ°úÎìúÌï† Ïàò ÏûàÏäµÎãàÎã§.</strong>
                </div>
                <form id="uploadForm" class="upload-form">
                    <div class="form-group">
                        <label>ÌååÏùº</label>
                        <input type="file" id="fileInput" accept="image/*" required>
                    </div>
                    
                    <div class="form-group">
                        <label>ÌååÏùº Ïú†Ìòï</label>
                        <select id="fileType">
                            <option value="boshqa">Í∏∞ÌÉÄ</option>
                            <option value="passport">Ïó¨Í∂å</option>
                            <option value="id">Ïã†Î∂ÑÏ¶ù</option>
                            <option value="ariza">Ïã†Ï≤≠ÏÑú</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label>Ïñ∏Ïñ¥</label>
                        <select id="language">
                            <option value="auto">ÏûêÎèô</option>
                            <option value="uzb">Ïö∞Ï¶àÎ≤°Ïñ¥</option>
                            <option value="eng">ÏòÅÏñ¥</option>
                            <option value="kor">ÌïúÍµ≠Ïñ¥</option>
                        </select>
                    </div>
                    
                    <div id="uploadError" class="error" style="display: none;"></div>
                    
                    <div class="upload-btn-rainbow-wrap">
                        <button type="submit" class="btn-primary" id="uploadBtn">ÏóÖÎ°úÎìú</button>
                    </div>
                </form>
            </div>

            <!-- My Page (Profile + Documents) -->
            <div id="adminPage" class="page">
                <div class="mypage-layout">
                    <aside class="mypage-sidebar">
                        <div class="mypage-sidebar-user">
                            <div class="mypage-avatar-wrap">
                                <img id="mypageSidebarAvatar" src="" alt="" class="mypage-avatar" onerror="this.style.display='none'; this.nextElementSibling.classList.add('show');">
                                <div class="mypage-avatar-placeholder show"><span id="mypageSidebarInitial">A</span></div>
                            </div>
                            <p class="mypage-sidebar-name" id="mypageSidebarName">Admin</p>
                            <p class="mypage-sidebar-phone"><span class="mypage-icon-phone"></span><span id="mypageSidebarPhone">01065656565</span></p>
                            <span class="mypage-role-tag" id="mypageSidebarRole">ADMIN</span>
                        </div>
                        <nav class="mypage-sidebar-nav">
                            <p class="mypage-nav-title">MANAGE ACCOUNT</p>
                            <a href="#" class="mypage-nav-item active" data-mypage="profile"><span class="mypage-icon-user"></span><span class="mypage-nav-text">My Profile</span></a>
                            <a href="#" class="mypage-nav-item mypage-nav-logout" id="mypageLogout" onclick="if(window.handleLogout)handleLogout();return false;"><span class="mypage-icon-logout"></span><span class="mypage-nav-text">Logout</span></a>
                        </nav>
                    </aside>
                    <main class="mypage-content">
                        <div id="mypageProfileView" class="mypage-profile-view">
                            <div class="mypage-profile-header">
                                <h1 class="mypage-profile-title" data-i18n="myProfile">My Profile</h1>
                                <p class="mypage-profile-subtitle" data-i18n="weGladToSeeYou">We are glad to see you again!</p>
                            </div>
                            <div class="mypage-card">
                                <h2 class="mypage-card-title" data-i18n="profilePhoto">Photo</h2>
                                <div class="mypage-photo-row">
                                    <div class="mypage-photo-wrap">
                                        <img id="mypageProfileAvatar" src="" alt="" class="mypage-profile-avatar" onerror="this.style.display='none'; this.nextElementSibling.classList.add('show');">
                                        <div class="mypage-avatar-placeholder show"><span id="mypageProfileInitial">A</span></div>
                                    </div>
                                    <div class="mypage-photo-actions">
                                        <input type="file" id="mypagePhotoInput" accept=".jpg,.jpeg,.png,.webp,image/jpeg,image/png,image/webp" style="display: none;">
                                        <button type="button" class="btn-mypage-upload" id="mypageUploadPhotoBtn"><span data-i18n="uploadPhoto">Upload Profile Image</span></button>
                                        <p class="mypage-photo-hint" data-i18n="photoHint">A photo must be in JPG, JPEG, PNG or WebP format!</p>
                                    </div>
                                </div>
                            </div>
                            <div class="mypage-card">
                                <h2 class="mypage-card-title" data-i18n="userInfo">User Information</h2>
                                <div class="mypage-form-row">
                                    <div class="form-group">
                                        <label data-i18n="username">Username</label>
                                        <input type="text" id="mypageUsername" class="form-input" value="">
                                    </div>
                                    <div class="form-group">
                                        <label data-i18n="phone">Phone</label>
                                        <input type="tel" id="mypagePhone" class="form-input" value="">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label data-i18n="address">Address</label>
                                    <input type="text" id="mypageAddress" class="form-input" value="">
                                </div>
                            </div>
                            <div class="mypage-actions">
                                <button type="button" class="btn-mypage-update" id="mypageUpdateBtn"><span data-i18n="updateProfile">Update Profile</span> <span class="mypage-arrow">‚Üí</span></button>
                            </div>
                        </div>
                        <div id="mypageDocumentsView" class="mypage-documents-view" style="display: none;">
                            <div class="admin-documents-section">
                                <div class="admin-section-header">
                                    <h2 id="adminSectionHeaderH2">Î¨∏ÏÑú</h2>
                                    <div class="admin-filters" id="adminFiltersDiv">
                                        <button class="btn-filter active" onclick="filterAdminDocuments('all')">Ï†ÑÏ≤¥</button>
                                        <button class="btn-filter" onclick="filterAdminDocuments('pending')">ÎåÄÍ∏∞ Ï§ë</button>
                                        <button class="btn-filter" onclick="filterAdminDocuments('approved')">ÏäπÏù∏Îê®</button>
                                        <button class="btn-filter" onclick="filterAdminDocuments('rejected')">Í±∞Î∂ÄÎê®</button>
                                    </div>
                                </div>
                                <div id="adminDocumentsList" class="admin-documents-list"></div>
                            </div>
                        </div>
                    </main>
                </div>
            </div>
            
            <!-- Admin Document Verification Page -->
            <div id="adminVerificationPage" class="page">
                <button onclick="showPage('admin')" class="btn-back">‚Üê Îí§Î°ú</button>
                <div id="adminVerificationContent"></div>
            </div>

            <!-- Admin Panel Page (faqat admin uchun: obunachilar + skaner ma'lumotlari) -->
            <div id="adminPanelPage" class="page">
                <div class="page-header" style="margin-bottom: 24px;">
                    <h1 id="adminPanelTitle">Admin</h1>
                </div>
                <div class="admin-panel-sections">
                    <section id="adminSubscribersSection" class="admin-panel-section">
                        <h2 id="adminSubscribersTitle">Obunachilar (Ro'yxatdan o'tganlar)</h2>
                        <p class="admin-panel-desc" id="adminSubscribersDesc">Signup qilishda kiritilgan ma'lumotlar</p>
                        <div class="admin-table-wrap admin-subscribers-table-wrap">
                            <table class="admin-table">
                                <thead>
                                    <tr>
                                        <th id="thSubscriberUsername">Foydalanuvchi</th>
                                        <th id="thSubscriberEmail">Email</th>
                                        <th id="thSubscriberCreated">Ro'yxatdan o'tgan sana</th>
                                    </tr>
                                </thead>
                                <tbody id="adminSubscribersList">
                                    <tr><td colspan="3" class="loading">Yuklanmoqda...</td></tr>
                                </tbody>
                            </table>
                        </div>
                        <div id="adminSubscribersControls" class="admin-subscribers-controls" style="display: none;">
                            <span id="adminSubscribersShowMore" class="admin-subscribers-show-more" role="button" tabindex="0">Show more</span>
                        </div>
                        <p id="adminSubscribersNote" class="admin-panel-note" style="display: none; margin-top: 8px; font-size: 0.9em; color: #6b7280;"></p>
                    </section>
                    <section class="admin-panel-section">
                        <div class="admin-scanner-header">
                            <div>
                                <h2 id="adminScannerTitle">Skaner ma'lumotlari</h2>
                                <p class="admin-panel-desc" id="adminScannerDesc">OCR / yuklangan hujjatlar ro'yxati</p>
                            </div>
                            <div class="admin-scanner-search-wrap">
                                <input type="text" id="adminScannerSearch" class="admin-scanner-search" placeholder="ID, foydalanuvchi, fayl turi..." aria-label="Qidirish">
                            </div>
                        </div>
                        <div class="admin-table-wrap admin-scanner-table-wrap">
                            <table class="admin-table">
                                <thead>
                                    <tr>
                                        <th>ID</th>
                                        <th id="thScannerFileType">Fayl turi</th>
                                        <th id="thScannerUser">Foydalanuvchi</th>
                                        <th id="thScannerStatus">Holat</th>
                                        <th id="thScannerCreated">Sana</th>
                                        <th id="thScannerAction">Amal</th>
                                    </tr>
                                </thead>
                                <tbody id="adminScannerList">
                                    <tr><td colspan="6" class="loading">Yuklanmoqda...</td></tr>
                                </tbody>
                            </table>
                        </div>
                        <div id="adminScannerControls" class="admin-scanner-controls" style="display: none;">
                            <span id="adminScannerShowMore" class="admin-btn-show-more" role="button" tabindex="0">Show more</span>
                            <div id="adminScannerPagination" class="admin-scanner-pagination" style="display: none;"></div>
                        </div>
                    </section>
                </div>
            </div>

            <!-- Branch Finder Page -->
            <div id="branchPage" class="page">
                <div class="page-header">
                    <h1>ÏßÄÏÇ¨Ï∞æÍ∏∞</h1>
                </div>
                <div class="service-content">
                    <p>Í∞ÄÍπåÏö¥ ÏßÄÏÇ¨Î•º Ï∞æÏïÑÎ≥¥ÏÑ∏Ïöî.</p>
                    <div id="branchMap" class="branch-map-container" style="width: 100%; height: 400px; background: #f0f0f0; border-radius: 12px; min-height: 400px;"></div>
                </div>
            </div>

            <!-- Forms Finder Page -->
            <div id="formsPage" class="page">
                <div class="page-header">
                    <h1>ÏÑúÏãùÏ∞æÍ∏∞</h1>
                </div>
                <div class="service-content">
                    <p>ÌïÑÏöîÌïú ÏÑúÏãùÏùÑ Îã§Ïö¥Î°úÎìúÌïòÏÑ∏Ïöî.</p>
                    <div class="forms-list">
                        <div class="form-item">
                            <h3>Ïó¨Í∂å Î≤àÏó≠ ÏÑúÏãù</h3>
                            <p>Ïó¨Í∂å Î≤àÏó≠ÏùÑ ÏúÑÌïú Í≥µÏãù ÏÑúÏãù</p>
                            <button class="btn-primary">PDF Îã§Ïö¥Î°úÎìú</button>
                        </div>
                        <div class="form-item">
                            <h3>Ïó∞Í∏à Ïã†Ï≤≠ÏÑú</h3>
                            <p>Ïó∞Í∏à Ïã†Ï≤≠ÏùÑ ÏúÑÌïú ÏÑúÏãù</p>
                            <button class="btn-primary">PDF Îã§Ïö¥Î°úÎìú</button>
                        </div>
                        <div class="form-item">
                            <h3>Ïã†Î∂ÑÏ¶ù Î≤àÏó≠ ÏÑúÏãù</h3>
                            <p>Ïã†Î∂ÑÏ¶ù Î≤àÏó≠ÏùÑ ÏúÑÌïú ÏÑúÏãù</p>
                            <button class="btn-primary">PDF Îã§Ïö¥Î°úÎìú</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Calculator Page - Pensiya kalkulyatori / Ïó∞Í∏à Í≥ÑÏÇ∞Í∏∞ -->
            <div id="calculatorPage" class="page">
                <div class="page-header">
                    <h1>Ïó∞Í∏à Í≥ÑÏÇ∞Í∏∞ / Pensiya kalkulyatori</h1>
                </div>
                <div class="service-content">
                    <p><strong>ÌïúÍµ≠Ïñ¥:</strong> ÎÇòÏù¥ÏôÄ <strong>Îß§Ïõî Ïó∞Í∏à ÎÇ©Î∂ÄÏï°</strong>ÏùÑ ÏûÖÎ†•ÌïòÎ©¥ ÏòàÏÉÅ Ïõî Ïó∞Í∏àÏùÑ Í≥ÑÏÇ∞Ìï©ÎãàÎã§.<br>
                    <strong>O'zbek:</strong> Yoshingiz va <strong>har oy pensiya fondiga qo'yadigan summani</strong> (oylik badal) kiriting ‚Äì taxminiy oylik pensiya hisoblanadi.</p>
                    <div class="calculator-form">
                        <div class="form-group">
                            <label>ÎÇòÏù¥ / Yoshi</label>
                            <input type="number" id="calcAge" min="18" max="100" placeholder="Ïòà: 35 / Masalan: 35">
                        </div>
                        <div class="form-group">
                            <label>Ïõî ÎÇ©Î∂ÄÏï° / Pensiya uchun oylik badal</label>
                            <input type="number" id="calcMonthly" min="0" placeholder="Îß§Ïõî ÎÇ©Î∂Ä Í∏àÏï° Ïòà: 500000 / Har oy: 500000">
                        </div>
                        <button class="btn-primary" id="calcBtn">Í≥ÑÏÇ∞ÌïòÍ∏∞ / Hisobla</button>
                        <div id="calcResult" style="margin-top: 20px; padding: 20px; background: #f0fdf4; border-radius: 8px; border: 1px solid #bbf7d0; display: none;">
                            <h3>ÏòàÏÉÅ Ïó∞Í∏à / Taxminiy pensiya</h3>
                            <p id="calcResultValue" style="font-size: 1.5em; color: #166534; font-weight: bold;"></p>
                            <p id="calcResultNote" style="margin-top: 8px; font-size: 0.9em; color: #6b7280;"></p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Guide Page -->
            <div id="guidePage" class="page">
                <div class="page-header">
                    <h1>ÏïåÍ∏∞Ïâ¨Ïö¥ ÏïàÎÇ¥</h1>
                </div>
                <div class="service-content">
                    <div class="guide-sections">
                        <div class="guide-section">
                            <h2>OCR ÏÇ¨Ïö© Î∞©Î≤ï</h2>
                            <p>Î¨∏ÏÑúÎ•º ÏóÖÎ°úÎìúÌïòÍ≥† AIÍ∞Ä ÏûêÎèôÏúºÎ°ú Ï†ïÎ≥¥Î•º Ï∂îÏ∂úÌï©ÎãàÎã§.</p>
                        </div>
                        <div class="guide-section">
                            <h2>Î¨∏ÏÑú ÏóÖÎ°úÎìú</h2>
                            <p>Ïó¨Í∂å, Ïã†Î∂ÑÏ¶ù, Ïã†Ï≤≠ÏÑú Îì±ÏùÑ ÏóÖÎ°úÎìúÌï† Ïàò ÏûàÏäµÎãàÎã§.</p>
                        </div>
                        <div class="guide-section">
                            <h2>Îç∞Ïù¥ÌÑ∞ Î≥¥Ïïà</h2>
                            <p>Î™®Îì† Í∞úÏù∏Ï†ïÎ≥¥Îäî ÏïàÏ†ÑÌïòÍ≤å Î≥¥Ìò∏Îê©ÎãàÎã§.</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Web Fax Page -->
            <div id="webfaxPage" class="page">
                <div class="page-header">
                    <h1>ÏõπÌå©Ïä§ Ï°∞Ìöå</h1>
                </div>
                <div class="service-content">
                    <p>ÏõπÌå©Ïä§ ÎÇ¥Ïó≠ÏùÑ Ï°∞ÌöåÌïòÏÑ∏Ïöî.</p>
                    <div class="webfax-list">
                        <div class="webfax-item">
                            <span>2026-01-23</span>
                            <span>Î¨∏ÏÑú #1</span>
                            <span>Ï≤òÎ¶¨ ÏôÑÎ£å</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Statistics Page -->
            <div id="statisticsPage" class="page">
                <div class="page-header">
                    <h1>ÌÜµÍ≥Ñ</h1>
                </div>
                <div class="service-content">
                    <p>ÏõîÎ≥Ñ ÌÜµÍ≥ÑÎ•º ÌôïÏù∏ÌïòÏÑ∏Ïöî.</p>
                    <div id="statisticsChart" style="width: 100%; height: 400px; background: white; border-radius: 12px; padding: 20px; display: flex; align-items: center; justify-content: center; color: #666;">
                        ÌÜµÍ≥Ñ Ï∞®Ìä∏Í∞Ä Ïó¨Í∏∞Ïóê ÌëúÏãúÎê©ÎãàÎã§
                    </div>
                </div>
            </div>

            <!-- Chat Page -->
            <div id="chatPage" class="page">
                <div class="page-header">
                    <h1>Ï±ÑÌåÖÏÉÅÎã¥</h1>
                </div>
                <div class="service-content">
                    <div class="chat-container">
                        <div class="chat-messages" id="chatMessages">
                            <div class="chat-message bot">
                                <p>ÏïàÎÖïÌïòÏÑ∏Ïöî! Î¨¥ÏóáÏùÑ ÎèÑÏôÄÎìúÎ¶¥ÍπåÏöî?</p>
                            </div>
                        </div>
                        <div class="chat-input-container">
                            <input type="text" id="chatInput" placeholder="Î©îÏãúÏßÄÎ•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî..." class="chat-input">
                            <button class="btn-primary" id="chatSendBtn">Ï†ÑÏÜ°</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- About Us Page -->
            <div id="aboutUsPage" class="page">
                <div class="page-header">
                    <h1 id="aboutUsTitle" data-i18n="aboutUsTitle">About Us</h1>
                </div>
                <div class="service-content about-us-content">
                    <p class="about-us-intro" id="aboutUsIntro" data-i18n="aboutUsIntro">AI-OCR is a document recognition service that uses artificial intelligence to extract text and data from images‚Äîsuch as passports, IDs, and application forms. It supports multiple languages and helps individuals and organizations process documents quickly and accurately.</p>
                    <section class="about-section">
                        <h2 id="aboutUsMissionTitle" data-i18n="aboutUsMissionTitle">Our Mission</h2>
                        <p id="aboutUsMission" data-i18n="aboutUsMission">We aim to make document processing fast, accurate, and accessible for everyone. We support multilingual users and offer free or discounted service for low-income groups where applicable.</p>
                    </section>
                    <section class="about-section">
                        <h2 id="aboutUsFeaturesTitle" data-i18n="aboutUsFeaturesTitle">What We Offer</h2>
                        <p id="aboutUsFeatures" data-i18n="aboutUsFeatures">Passport and ID recognition, multi-language OCR (Korean, Uzbek, Russian, and more), real-time verification, secure data handling, pension calculator, branch finder, form downloads, and web fax inquiry.</p>
                    </section>
                    <section class="about-section">
                        <h2 id="aboutUsWhoTitle" data-i18n="aboutUsWhoTitle">Who We Serve</h2>
                        <p id="aboutUsWho" data-i18n="aboutUsWho">Individuals who need to submit translated documents, businesses handling paperwork, and anyone who benefits from fast, reliable document digitization‚Äîwith a focus on accessibility for non-Korean speakers and underserved communities.</p>
                    </section>
                </div>
            </div>
        </main>

        <!-- AI Chat (Locohub-style floating panel) -->
        <div class="aichat-wrap chatting">
            <div class="aichat-btn-gradient-wrap">
            <button type="button" class="chat-button" id="aiChatFloatBtn" title="AI Chat">
                <span class="chat-btn-icon" id="aiChatBtnIcon">‚ú¶</span>
                <span class="chat-btn-text">AI Chat</span>
            </button>
            </div>
            <div class="chat-frame" id="aiChatFrame">
                <div class="chat-top">
                    <span class="chat-top-icon">‚ú¶</span>
                    <span>AI Chat</span>
                </div>
                <div class="chat-content" id="aiChatContent">
                    <div class="chat-main" id="aiChatMain">
                        <div class="chat-welcome" id="aiChatWelcome">Welcome to AI Chat! Ask about documents, pension, branches, forms.</div>
                        <div id="aiChatMessages"></div>
                    </div>
                </div>
                <div class="chat-bott">
                    <input type="text" class="msg-input" id="aiChatInput" placeholder="Type message..." autocomplete="off">
                    <button type="button" class="send-msg-btn" id="aiChatSendBtn" title="Send">‚û§</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="config.js"></script>
    <script src="config.local.js"></script>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
    <script src="translations.js"></script>
    <script src="app.js?v=6"></script>
</body>
</html>
